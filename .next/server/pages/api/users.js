"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/users";
exports.ids = ["pages/api/users"];
exports.modules = {

/***/ "crypto-js":
/*!****************************!*\
  !*** external "crypto-js" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("crypto-js");

/***/ }),

/***/ "mysql":
/*!************************!*\
  !*** external "mysql" ***!
  \************************/
/***/ ((module) => {

module.exports = require("mysql");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/***/ ((module) => {

module.exports = import("uuid");;

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(api)/./pages/api/users/index.js":
/*!**********************************!*\
  !*** ./pages/api/users/index.js ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _utils_user__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils/user */ \"(api)/./utils/user.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_utils_user__WEBPACK_IMPORTED_MODULE_0__]);\n_utils_user__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nasync function handler(req, res) {\n    const users = await _utils_user__WEBPACK_IMPORTED_MODULE_0__[\"default\"].all();\n    return res.json(users);\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvdXNlcnMvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBZ0M7QUFFakIsZUFBZUMsT0FBTyxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBQztJQUMzQyxNQUFNQyxLQUFLLEdBQUcsTUFBTUosdURBQVEsRUFBRTtJQUM5QixPQUFPRyxHQUFHLENBQUNHLElBQUksQ0FBQ0YsS0FBSyxDQUFDLENBQUM7Q0FDMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91bWFrLy4vcGFnZXMvYXBpL3VzZXJzL2luZGV4LmpzPzFkOGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXIgZnJvbSAnQC91dGlscy91c2VyJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcyl7XG4gICAgY29uc3QgdXNlcnMgPSBhd2FpdCBVc2VyLmFsbCgpO1xuICAgIHJldHVybiByZXMuanNvbih1c2Vycyk7XG59Il0sIm5hbWVzIjpbIlVzZXIiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwidXNlcnMiLCJhbGwiLCJqc29uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/users/index.js\n");

/***/ }),

/***/ "(api)/./utils/db.js":
/*!*********************!*\
  !*** ./utils/db.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mysql__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql */ \"mysql\");\n/* harmony import */ var mysql__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mysql__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! util */ \"util\");\n/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(util__WEBPACK_IMPORTED_MODULE_1__);\n\n\nclass DB {\n    static init() {\n        this.sql = \"\";\n        this.conn = mysql__WEBPACK_IMPORTED_MODULE_0___default().createConnection({\n            host: \"localhost\",\n            user: \"root\",\n            password: \"\",\n            database: \"chatapp\"\n        });\n        this.query = (0,util__WEBPACK_IMPORTED_MODULE_1__.promisify)(this.conn.query).bind(this.conn);\n    }\n    static table(table) {\n        this.init();\n        this._table = table;\n        return this;\n    }\n    static async insert(obj) {\n        this.conn.connect();\n        let f = Object.keys(obj).join(\",\");\n        let v = Object.values(obj);\n        let sql = `insert into ${this._table} (${f}) values (${v.map((i)=>\"?\").join()})`;\n        const res = await this.query(sql, v);\n        const data = await this.find(res.insertId);\n        return data;\n    }\n    static select(colums) {\n        colums = typeof colums == \"string\" ? colums : colums.join(\",\");\n        this.sql += \"select \" + colums + \" from \" + this._table;\n        return this;\n    }\n    static async delete() {\n        this.sql = this.sql.replace(\"select *\", \"delete\");\n        const res = await this.query(this.sql);\n        return res;\n    }\n    static where(name, cond, value) {\n        this.sql += ` where ${name} ${cond} '${value}'`;\n        return this;\n    }\n    static orWhere(name, cond, value) {\n        this.sql += ` or ${name} ${cond} '${value}'`;\n        return this;\n    }\n    static andWhere(name, cond, value) {\n        this.sql += ` and ${name} ${cond} '${value}'`;\n        return this;\n    }\n    static limit(limit) {\n        this.sql += ` limit ${limit}`;\n        return this;\n    }\n    static offset(offset) {\n        this.sql += ` ${offset}`;\n        return this;\n    }\n    static async raw(sql) {\n        this.init();\n        let res = await this.query(sql);\n        return this.json(res);\n    }\n    static async get() {\n        this.conn.connect();\n        let res = await this.query(this.sql);\n        return this.json(res);\n    }\n    static async first() {\n        this.conn.connect();\n        let res = await this.query(this.sql);\n        return res[0] ? this.json(res[0]) : null;\n    }\n    static async find(id) {\n        this.conn.connect();\n        let isArray = Array.isArray(id);\n        let cond = isArray ? id.join(\" or id=\") : id;\n        this.sql += \"select * from \" + this._table + \" where id = \" + cond;\n        let res = await this.query(this.sql);\n        return this.json(isArray ? res : res[0]);\n    }\n    static json(data) {\n        let s = JSON.stringify(data);\n        return JSON.parse(s);\n    }\n    static async all() {\n        this.conn.connect();\n        let sql = \"select * from \" + this._table;\n        let res = await this.query(sql);\n        return this.json(res);\n    }\n    static async exists() {\n        let record = await this.first();\n        return record ? true : false;\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DB);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUUsQ0FBQztRQUNwQixJQUFJYixHQUFHLEdBQUcsZ0JBQWdCLEdBQUMsSUFBSSxDQUFDVSxNQUFNO1FBQ3RDLElBQUlZLEdBQUcsR0FBRyxNQUFNLElBQUksQ0FBQ2YsS0FBSyxDQUFDUCxHQUFHLENBQUM7UUFDL0IsT0FBTyxJQUFJLENBQUN1QyxJQUFJLENBQUNqQixHQUFHLENBQUMsQ0FBQztLQUN6QjtJQUVELGFBQWE0QixNQUFNLEdBQUc7UUFDbEIsSUFBSUMsTUFBTSxHQUFHLE1BQU0sSUFBSSxDQUFDVixLQUFLLEVBQUU7UUFDL0IsT0FBT1UsTUFBTSxHQUFHLElBQUksR0FBRyxLQUFLLENBQUM7S0FDaEM7Q0FDSjtBQUdELGlFQUFlckQsRUFBRSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdW1hay8uL3V0aWxzL2RiLmpzPzdjYjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG15c3FsIGZyb20gJ215c3FsJztcbmltcG9ydCB7cHJvbWlzaWZ5fSBmcm9tICd1dGlsJztcblxuY2xhc3MgREIge1xuXG4gICAgc3RhdGljIGluaXQoKSB7XG4gICAgICAgIHRoaXMuc3FsID0gJyc7XG4gICAgICAgIHRoaXMuY29ubiA9IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24oe1xuICAgICAgICAgICAgICAgIGhvc3Q6ICdsb2NhbGhvc3QnLCBcbiAgICAgICAgICAgICAgICB1c2VyOiAncm9vdCcsIFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAnJywgXG4gICAgICAgICAgICAgICAgZGF0YWJhc2U6ICdjaGF0YXBwJ1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeSA9IHByb21pc2lmeSh0aGlzLmNvbm4ucXVlcnkpLmJpbmQodGhpcy5jb25uKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgdGFibGUodGFibGUpIHtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIHRoaXMuX3RhYmxlID0gdGFibGU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBpbnNlcnQob2JqKSB7XG4gICAgICAgIHRoaXMuY29ubi5jb25uZWN0KCk7XG4gICAgICAgIGxldCBmID0gT2JqZWN0LmtleXMob2JqKS5qb2luKCcsJylcbiAgICAgICAgbGV0IHYgPSBPYmplY3QudmFsdWVzKG9iailcbiAgICAgICAgbGV0IHNxbCA9IGBpbnNlcnQgaW50byAke3RoaXMuX3RhYmxlfSAoJHtmfSkgdmFsdWVzICgke3YubWFwKGk9PiAnPycpLmpvaW4oKX0pYDtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5xdWVyeShzcWwsIHYpO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5maW5kKHJlcy5pbnNlcnRJZClcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgc3RhdGljIHNlbGVjdChjb2x1bXMpe1xuICAgICAgICBjb2x1bXMgPSB0eXBlb2YgY29sdW1zID09ICdzdHJpbmcnID8gY29sdW1zIDogY29sdW1zLmpvaW4oJywnKVxuICAgICAgICB0aGlzLnNxbCArPSAnc2VsZWN0ICcgKyBjb2x1bXMrJyBmcm9tICcrIHRoaXMuX3RhYmxlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzdGF0aWMgYXN5bmMgZGVsZXRlKCl7XG4gICAgICAgIHRoaXMuc3FsID0gdGhpcy5zcWwucmVwbGFjZSgnc2VsZWN0IConLCAnZGVsZXRlJyk7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMucXVlcnkodGhpcy5zcWwpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIHN0YXRpYyB3aGVyZShuYW1lLCBjb25kLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnNxbCArPSBgIHdoZXJlICR7bmFtZX0gJHtjb25kfSAnJHt2YWx1ZX0nYDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc3RhdGljIG9yV2hlcmUobmFtZSwgY29uZCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5zcWwgKz0gYCBvciAke25hbWV9ICR7Y29uZH0gJyR7dmFsdWV9J2A7XG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgc3RhdGljIGFuZFdoZXJlKG5hbWUsY29uZCx2YWx1ZSkge1xuICAgICAgICB0aGlzLnNxbCArPSBgIGFuZCAke25hbWV9ICR7Y29uZH0gJyR7dmFsdWV9J2A7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHN0YXRpYyBsaW1pdChsaW1pdCkge1xuICAgICAgICB0aGlzLnNxbCArPSBgIGxpbWl0ICR7bGltaXR9YDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc3RhdGljIG9mZnNldChvZmZzZXQpe1xuICAgICAgICB0aGlzLnNxbCArPSBgICR7b2Zmc2V0fWA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyByYXcoc3FsKSB7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICBsZXQgcmVzID0gYXdhaXQgdGhpcy5xdWVyeShzcWwpO1xuICAgICAgICByZXR1cm4gdGhpcy5qc29uKHJlcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGdldCgpe1xuICAgICAgICB0aGlzLmNvbm4uY29ubmVjdCgpO1xuICAgICAgICBsZXQgcmVzID0gYXdhaXQgdGhpcy5xdWVyeSh0aGlzLnNxbCk7XG4gICAgICAgIHJldHVybiB0aGlzLmpzb24ocmVzKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYXN5bmMgZmlyc3QoKSB7XG4gICAgICAgIHRoaXMuY29ubi5jb25uZWN0KCk7XG4gICAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLnF1ZXJ5KHRoaXMuc3FsKTtcbiAgICAgICAgcmV0dXJuIHJlc1swXSA/IHRoaXMuanNvbihyZXNbMF0pIDogbnVsbDtcbiAgICB9XG5cbiAgICBzdGF0aWMgYXN5bmMgZmluZChpZCl7XG4gICAgICAgIHRoaXMuY29ubi5jb25uZWN0KCk7XG4gICAgICAgIGxldCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheShpZCk7XG4gICAgICAgIGxldCBjb25kID0gaXNBcnJheSA/IGlkLmpvaW4oJyBvciBpZD0nKSA6IGlkO1xuICAgICAgICB0aGlzLnNxbCArPSAnc2VsZWN0ICogZnJvbSAnK3RoaXMuX3RhYmxlKycgd2hlcmUgaWQgPSAnICsgY29uZDtcbiAgICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMucXVlcnkodGhpcy5zcWwpO1xuICAgICAgICByZXR1cm4gdGhpcy5qc29uKGlzQXJyYXkgPyByZXMgOiByZXNbMF0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBqc29uKGRhdGEpe1xuICAgICAgICBsZXQgcyA9IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBhbGwoKXtcbiAgICAgICAgdGhpcy5jb25uLmNvbm5lY3QoKTtcbiAgICAgICAgbGV0IHNxbCA9ICdzZWxlY3QgKiBmcm9tICcrdGhpcy5fdGFibGU7XG4gICAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLnF1ZXJ5KHNxbCk7XG4gICAgICAgIHJldHVybiB0aGlzLmpzb24ocmVzKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYXN5bmMgZXhpc3RzKCkge1xuICAgICAgICBsZXQgcmVjb3JkID0gYXdhaXQgdGhpcy5maXJzdCgpO1xuICAgICAgICByZXR1cm4gcmVjb3JkID8gdHJ1ZSA6IGZhbHNlO1xuICAgIH1cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBEQjsiXSwibmFtZXMiOlsibXlzcWwiLCJwcm9taXNpZnkiLCJEQiIsImluaXQiLCJzcWwiLCJjb25uIiwiY3JlYXRlQ29ubmVjdGlvbiIsImhvc3QiLCJ1c2VyIiwicGFzc3dvcmQiLCJkYXRhYmFzZSIsInF1ZXJ5IiwiYmluZCIsInRhYmxlIiwiX3RhYmxlIiwiaW5zZXJ0Iiwib2JqIiwiY29ubmVjdCIsImYiLCJPYmplY3QiLCJrZXlzIiwiam9pbiIsInYiLCJ2YWx1ZXMiLCJtYXAiLCJpIiwicmVzIiwiZGF0YSIsImZpbmQiLCJpbnNlcnRJZCIsInNlbGVjdCIsImNvbHVtcyIsImRlbGV0ZSIsInJlcGxhY2UiLCJ3aGVyZSIsIm5hbWUiLCJjb25kIiwidmFsdWUiLCJvcldoZXJlIiwiYW5kV2hlcmUiLCJsaW1pdCIsIm9mZnNldCIsInJhdyIsImpzb24iLCJnZXQiLCJmaXJzdCIsImlkIiwiaXNBcnJheSIsIkFycmF5IiwicyIsIkpTT04iLCJzdHJpbmdpZnkiLCJwYXJzZSIsImFsbCIsImV4aXN0cyIsInJlY29yZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./utils/db.js\n");

/***/ }),

/***/ "(api)/./utils/helper.js":
/*!*************************!*\
  !*** ./utils/helper.js ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"compare\": () => (/* binding */ compare),\n/* harmony export */   \"hash\": () => (/* binding */ hash),\n/* harmony export */   \"unhash\": () => (/* binding */ unhash),\n/* harmony export */   \"uuid\": () => (/* binding */ uuid)\n/* harmony export */ });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ \"uuid\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([uuid__WEBPACK_IMPORTED_MODULE_0__]);\nuuid__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nvar CryptoJS = __webpack_require__(/*! crypto-js */ \"crypto-js\");\nfunction hash(data, secret = \"\") {\n    const string = JSON.stringify(data);\n    return CryptoJS.AES.encrypt(string, secret).toString();\n}\nfunction unhash(data, secret = \"\") {\n    var bytes = CryptoJS.AES.decrypt(data, secret);\n    return JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\n}\nfunction compare(hash, string, secret = \"\") {\n    hash = unhash(hash, secret);\n    return hash === string;\n}\nfunction uuid() {\n    return (0,uuid__WEBPACK_IMPORTED_MODULE_0__.v4)();\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9oZWxwZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBd0I7QUFDeEIsSUFBSUMsUUFBUSxHQUFHQyxtQkFBTyxDQUFDLDRCQUFXLENBQUM7QUFFNUIsU0FBU0MsSUFBSSxDQUFDQyxJQUFJLEVBQUVDLE1BQU0sR0FBQyxFQUFFLEVBQUU7SUFDbEMsTUFBTUMsTUFBTSxHQUFHQyxJQUFJLENBQUNDLFNBQVMsQ0FBQ0osSUFBSSxDQUFDO0lBQ25DLE9BQU9ILFFBQVEsQ0FBQ1EsR0FBRyxDQUFDQyxPQUFPLENBQUNKLE1BQU0sRUFBRUQsTUFBTSxDQUFDLENBQUNNLFFBQVEsRUFBRSxDQUFDO0NBQzFEO0FBRU0sU0FBU0MsTUFBTSxDQUFDUixJQUFJLEVBQUVDLE1BQU0sR0FBQyxFQUFFLEVBQUM7SUFDbkMsSUFBSVEsS0FBSyxHQUFJWixRQUFRLENBQUNRLEdBQUcsQ0FBQ0ssT0FBTyxDQUFDVixJQUFJLEVBQUVDLE1BQU0sQ0FBQztJQUMvQyxPQUFPRSxJQUFJLENBQUNRLEtBQUssQ0FBQ0YsS0FBSyxDQUFDRixRQUFRLENBQUNWLFFBQVEsQ0FBQ2UsR0FBRyxDQUFDQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0NBQ3hEO0FBRU0sU0FBU0MsT0FBTyxDQUFDZixJQUFJLEVBQUVHLE1BQU0sRUFBRUQsTUFBTSxHQUFDLEVBQUUsRUFBQztJQUM1Q0YsSUFBSSxHQUFHUyxNQUFNLENBQUNULElBQUksRUFBRUUsTUFBTSxDQUFDLENBQUM7SUFDNUIsT0FBT0YsSUFBSSxLQUFLRyxNQUFNLENBQUM7Q0FDMUI7QUFFTSxTQUFTYSxJQUFJLEdBQUc7SUFDbkIsT0FBT25CLHdDQUFFLEVBQUUsQ0FBQztDQUNmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdW1hay8uL3V0aWxzL2hlbHBlci5qcz9mN2Q2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7djR9IGZyb20gJ3V1aWQnO1xudmFyIENyeXB0b0pTID0gcmVxdWlyZShcImNyeXB0by1qc1wiKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGhhc2goZGF0YSwgc2VjcmV0PScnKSB7XG4gICAgY29uc3Qgc3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgcmV0dXJuIENyeXB0b0pTLkFFUy5lbmNyeXB0KHN0cmluZywgc2VjcmV0KS50b1N0cmluZygpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5oYXNoKGRhdGEsIHNlY3JldD0nJyl7XG4gICAgdmFyIGJ5dGVzICA9IENyeXB0b0pTLkFFUy5kZWNyeXB0KGRhdGEsIHNlY3JldCk7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoYnl0ZXMudG9TdHJpbmcoQ3J5cHRvSlMuZW5jLlV0ZjgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmUoaGFzaCwgc3RyaW5nLCBzZWNyZXQ9Jycpe1xuICAgIGhhc2ggPSB1bmhhc2goaGFzaCwgc2VjcmV0KTtcbiAgICByZXR1cm4gaGFzaCA9PT0gc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXVpZCgpIHtcbiAgICByZXR1cm4gdjQoKTtcbn0iXSwibmFtZXMiOlsidjQiLCJDcnlwdG9KUyIsInJlcXVpcmUiLCJoYXNoIiwiZGF0YSIsInNlY3JldCIsInN0cmluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJBRVMiLCJlbmNyeXB0IiwidG9TdHJpbmciLCJ1bmhhc2giLCJieXRlcyIsImRlY3J5cHQiLCJwYXJzZSIsImVuYyIsIlV0ZjgiLCJjb21wYXJlIiwidXVpZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./utils/helper.js\n");

/***/ }),

/***/ "(api)/./utils/models.js":
/*!*************************!*\
  !*** ./utils/models.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./db */ \"(api)/./utils/db.js\");\n\nclass Models extends _db__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    static _table = this.name.toLowerCase() + \"s\";\n    static table = _db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].table(this._table);\n    static create = _db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].insert;\n    static where(name, cond, value) {\n        this.select(\"*\");\n        this.sql += ` where ${name} ${cond} '${value}'`;\n        return this;\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Models);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9tb2RlbHMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBc0I7QUFHdEIsTUFBTUMsTUFBTSxTQUFTRCwyQ0FBRTtJQUNuQixPQUFPRSxNQUFNLEdBQUcsSUFBSSxDQUFDQyxJQUFJLENBQUNDLFdBQVcsRUFBRSxHQUFDLEdBQUcsQ0FBQztJQUM1QyxPQUFPQyxLQUFLLEdBQUdMLGlEQUFRLENBQUMsSUFBSSxDQUFDRSxNQUFNLENBQUMsQ0FBQztJQUNyQyxPQUFPSSxNQUFNLEdBQUdOLGtEQUFTLENBQUM7SUFFMUIsT0FBT1EsS0FBSyxDQUFDTCxJQUFJLEVBQUVNLElBQUksRUFBRUMsS0FBSyxFQUFFO1FBQzVCLElBQUksQ0FBQ0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2pCLElBQUksQ0FBQ0MsR0FBRyxJQUFJLENBQUMsT0FBTyxFQUFFVCxJQUFJLENBQUMsQ0FBQyxFQUFFTSxJQUFJLENBQUMsRUFBRSxFQUFFQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEQsT0FBTyxJQUFJLENBQUM7S0FDZjtDQUNKO0FBRUQsaUVBQWVULE1BQU0sRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3VtYWsvLi91dGlscy9tb2RlbHMuanM/ZWQxNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgREIgZnJvbSBcIi4vZGJcIjtcblxuXG5jbGFzcyBNb2RlbHMgZXh0ZW5kcyBEQiB7XG4gICAgc3RhdGljIF90YWJsZSA9IHRoaXMubmFtZS50b0xvd2VyQ2FzZSgpKydzJztcbiAgICBzdGF0aWMgdGFibGUgPSBEQi50YWJsZSh0aGlzLl90YWJsZSk7XG4gICAgc3RhdGljIGNyZWF0ZSA9IERCLmluc2VydDtcblxuICAgIHN0YXRpYyB3aGVyZShuYW1lLCBjb25kLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnNlbGVjdCgnKicpO1xuICAgICAgICB0aGlzLnNxbCArPSBgIHdoZXJlICR7bmFtZX0gJHtjb25kfSAnJHt2YWx1ZX0nYDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RlbHM7Il0sIm5hbWVzIjpbIkRCIiwiTW9kZWxzIiwiX3RhYmxlIiwibmFtZSIsInRvTG93ZXJDYXNlIiwidGFibGUiLCJjcmVhdGUiLCJpbnNlcnQiLCJ3aGVyZSIsImNvbmQiLCJ2YWx1ZSIsInNlbGVjdCIsInNxbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./utils/models.js\n");

/***/ }),

/***/ "(api)/./utils/user.js":
/*!***********************!*\
  !*** ./utils/user.js ***!
  \***********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helper */ \"(api)/./utils/helper.js\");\n/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./models */ \"(api)/./utils/models.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_helper__WEBPACK_IMPORTED_MODULE_0__]);\n_helper__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nclass User extends _models__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n    static _table = \"users\";\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (User);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy91c2VyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE4QjtBQUNBO0FBRTlCLE1BQU1FLElBQUksU0FBU0QsK0NBQU07SUFDckIsT0FBT0UsTUFBTSxHQUFHLE9BQU8sQ0FBQztDQUMzQjtBQUVELGlFQUFlRCxJQUFJLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91bWFrLy4vdXRpbHMvdXNlci5qcz8zYzI4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7aGFzaH0gZnJvbSAnLi9oZWxwZXInO1xuaW1wb3J0IE1vZGVscyBmcm9tICcuL21vZGVscyc7XG5cbmNsYXNzIFVzZXIgZXh0ZW5kcyBNb2RlbHMge1xuICAgIHN0YXRpYyBfdGFibGUgPSAndXNlcnMnO1xufVxuXG5leHBvcnQgZGVmYXVsdCBVc2VyOyJdLCJuYW1lcyI6WyJoYXNoIiwiTW9kZWxzIiwiVXNlciIsIl90YWJsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./utils/user.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/users/index.js"));
module.exports = __webpack_exports__;

})();